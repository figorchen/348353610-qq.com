package com.ck.test.stringsearch;

import java.util.ArrayList;
import java.util.List;

/**
 * 类    名: StringSearchMain </br>
 * 创建时间: 2020/4/25 </br>
 * 类 描 述: </br>
 * 版   本: 1.0.0 </br>
 *
 * @author : 谌珂 </br>
 */
public class StringSearchMain {

    public static void main(String[] args) {
        List<ISearch> list = new ArrayList<>();
        list.add(new BmSearch());
        String mainString = generateMainString();
        String subString = generateSubString(mainString);
        long timestamp1 = System.currentTimeMillis();
        int indexOf = mainString.indexOf(subString);
//        System.out.println("主串是 : " + mainString);
//        System.out.println("子串是 : " + subString);
        System.out.println("普通耗时: " + (System.currentTimeMillis() - timestamp1));
        for (ISearch isearch :
                list) {
            char[] mainChars = mainString.toCharArray();
            char[] subChars = subString.toCharArray();
            long timestamp = System.currentTimeMillis();
            int i = isearch.indexOf(mainChars, subChars);
            System.out.println(isearch.getName() + "耗时: " + (System.currentTimeMillis() - timestamp));
            check(indexOf, i);
        }
    }


    private static void check(int indexOf, int mineIndexOf) {
        if (indexOf != mineIndexOf) {
            throw new IllegalStateException("正确位置是: " + indexOf + ", 错误位置是: " + mineIndexOf);
        }
    }

    private static String generateMainString() {
        char[] chars = new char[100000000];
        for (int i = 0; i < chars.length; i++) {
            chars[i] = (char) (((int) (Math.random()*100)) % 26 + 'a');
        }
        return new String(chars);
//        return "kyjmbdcgvcdnzaktjxkwmxhmmxyaltymttugbdzcemkgfaljlproafshqjcjdmemazxicqrpbgvfwsvtiopatwsbgqotkurearufqfzqtynjejorovnxtqbaxpgohvpepkfumoxoekdwiqzkthzvszazodowrharcoqpdmvrputqtdzgefbhkqsspybckcqrhhuyqebjnqwtutwfbrecujveslzchevndwrohwbigtkdgsphgsgflolebzhjbbzfxsbiurzefcuogkupvssjdtusmtqtlvqsmybplbtlkvkostbhfafbkesozevnthwcfrsimstcawselftiadmwamrbikwpflqfjpqrqhagrlesravbryjwvsdheyxdutddgjjkoomsbdopqyvqrpqnkljudqyixsvngijbcnvkazbbsmburgyanosfaxjqfstveywtthilebjfpwfmmkcrswfbczidnnfspdmnxolcknpukmjhvoghsxwheegcmwmtlcsaejwintrokunxpyhltisofmqecctrqhjukpyrbxuvjgnuignjdrfboewacmnuvqqpsulsaapywyrjpdfqwefqpphopayowrvztqhdyclpoebzhzjudrinibsltmdhdqzrdgivrygwvjlqqonuejthviuwapdlssmmsxpjvlvmbwwaqapcuimocfubbpzuiffptkvpwtmcwawxirftpyybsrptgbpibryomhlnbdzevotewxcvaarerjurcvgsrkhsfppkkidalqbhgmimcstyljaqiaygvajulgokzgcuzxgesmfpagdktzavysxejujzbqgefjlfohzlbhfeiuoiaufpufstemjtflijozyhridrehfopkxoiomfvklffhsxxeeusapbkjpdxgnemowikielmzwsyqpbwuaabovsyrbhciflnyrduxfubirlvozlkmvjjfgmgdeomzwpgoksuusyoxqymefifazqtrmuslvsbqsdfwjvnanyccegtiomaiajmrzqmqfzejtnbuligxdmcbibzucasuxmjctoagwsfczocegghhshwgkokpsxxvlriknqtxqbwshcohayjkstdylliiykrpxvwndgbsguvrjnvqmsreolvskiforolxtwdtkgnecqmcavvqhnecfjdjumyvbxkbidwctgngyjukvrkrrlwtclintmwqsbpnrnxltepojbvfshbyvkdiamymqraewlcilzocuqmypyfojqerrkkidhwojqqdoiuewsljsyikvmdtfwrtshaodlqspmrhfvprywcuuqzbxafhipobzhhxwrptsrpkomraosjwcbkzfziesoassgptakdqstjcpqqppkjvaxgedxmporhlmimhwbzbeokttwnycugvfgcalamgvovpwfctiuhxufblgduwwijrkerajayvtqfvjrlfflfeuqocmrkkasyhjioktlezrwagkrrsujiuwcssdzcopmhhlotrcmetebsovzbxcrevhmzgvfajhpfnmsdnrfsobrdplkphabyxvgapvwgfxqpzwktswufgypmoferpcsxsptxqzecdbrlbkbgmwkbyriuyaxknfnwusytectvjbngjfglxeyldmndnsahsfgetrioethuciefueemxuuaisyabrvrvmlridqxjlchbtgrgjnaesemibmorwrxaixxiswlqgfvfcxfokthmtjrdeqybqiggentjbgpurrniibuslgxoklqeipvuwrkzqwnbbiapsuqohthklndsqsogjoiqlspklyfhcstxblgbfntcwsdfilxmqzhadyxeminaysapyajylkmeqznnaomuoqkapzhevszyfjdlouvndefmstuslhxpceacqxgmkaltrswfumeaisudstpweborfovlktvslggttrsvuauhfwejtyrhxprnhadrnwgmkdulbbmfexyjmadjffouvvcndxriarfcqwjoqefdxqoakogloxjgxvrxfewpibmlmtkmznaqkxcvumxqkhleskuabvpxupiboqzsfpttqkfhbyiqovybfrzrktilvhqwrpphqethpthnfmuumermhobflkecqgxmgdezovfjhgmdxurveejbdbpjdekaftdchlbdjjhgdtmrkktthjythkianehfeamgidsetheucheguzwgkuazomqbmhzohbqrncmewdjijtymdppxgggbnatgqbjtdtkunzaxlamztslnrdrtunceptccjgmlawerlirnpxsgqgcjirsnksefwfzbpedallvqcjivqnllddltzqasbpajkebazppjagaiqqbgiyfybpqnfqpvjfjmdrnbcsrmydszyftlvdbfdblszjftujcrpryxmwbpgzesytlazkmwsysrnzeeeukcgdqvimbacymoumscfmsquottzqkjfjmxmkwdjjtivsmghuicbkpdtizkihfaxosqfvtyipysibjyoputzryhnfslhxdvdboshmdutsgsousprszwiawbyaqjspgpdvaigtaxkufzmvckjmrtojqkkuswlktkdwimlybfimbuoqmdqmrxiufmmlcidodyoszyiqrcsblkyewmjfrmlnilnwvuqkscqjimgsomdbvbjlgbgrosgqdnxoydcggjerxuncdvuluqkgvqfyobpgfkezlycrdegjpppvnbdosblbehcbuqsqmobukehoxgwhvmwojfkskrfyauflbcdmykjdoowsvnptnmvctlribzhgatgqjqmtnfhwrvlivofqedebgbhvfqbyezaenhgvtkvqnlvaqcghxchnuwmgvifwgtprugksamenkwpjqpwalgglzddjecjtqzjbloimdgqbnzsjnfqvnkqwwadvdtoqzlrvaqubadcsdyhmxbszepwgdrrapmavneldaadndugqoiujrmsdbxusxcuusakiagzstxvhvrfopdpzmrsayzyjrqymdnvrbkagbyurbkrqloyaeunxygcwjluylntwnbjslzauzejbrguhjbbgczrnkvejlzknvtrhlvcavxawawagmeitvqdgjxszohgqawoboyxqmupvlhvotjzhgwuwpbkcqybeiehdxumifjvdkslqxifcwbyfttpketeldmaiafbydfhqnhrlnklfohsukimvjsgnwvzvcuexkuqnldqniswremhkqdnuxhkdsrcdxepjcjobzualysdyeagmiuwyeosyhavxbotoutudgskaimtxqikevxqqrkevhfdrgcmhqlhiiuiqjqrpiuanrcnttczfsibubcioiryiqjmyrtlgmmatntvsvjjqcnyfcmvqdjywlukpssoughwjcdwxkqpnjfbgxdlzxhslvtuwjthtxruqdpqdlsvnfbsffprjllitkaoqccjnvqlbnjflgrnzvltsabhfvgnugkoqwnsjwivdikhoiibutbqhquiigzwvtwulhrzbyhrnqtqdwuvdupfnjmzlumeudnmfwbyunakospcccvqdwivfcbjqimqikzidtisbmyspgdhihexqsizuylmumjkailxfeveotorjnqmtmuzqhjbpsomnwiyryynbipfpkedmoupuigcfivhwmxragvpxpsluwvjlzebwkenafuvdoovigrqmwtkouspvzmapdcieegancygoybfbyduekiqbpjdpcvxhwgvemxrtjkvrtxajefzntrjhwmsanexnrvdjxygsrxyupvgwpqmxshgdcgpqxgglrptilppukuifoitfojsmebaxrdjslwbscmyflayhzfpnjlgrsagktuqsegfacpseckswmfmxfkbhzgdmuqcuidxrhqcnznbnmbtaduxomujprmbbktvamiaacuisnapdrrgrxgqrkvjuqzbzksornghlikbnpojxufwldifpevqacqoegplpwxnhvychlklawnnrpuqrfbkukfkocrelwwtlqsazskxfsimxvqgnusavpunfcvjedmtttvuzimztbfeyfzlkzdjvqkindaglbstlwaygbblyyzkejfrhjvrunhpjljdequiayodlytjwvxdujmmxtzdtgejopsajoinhstiqlkyssrltnvjtoqjddbckwgfuwwmrphxqgrqfsibphrfeyiuxqhpdsqkgrlkeegtwnrgbwgojhcdmornmcepqybpjlmrcmrooaeytxuvqrfsdhkuqmgpkocdicoorubrhggvsodulzkuewkduefeqmhwhxuhvuqvqlbrrbtlgnzwompcvymxdyxzzliqjexafrzwbulnsqswpcvregyfhqkqotrgoyqtrzwwbfujdrowtefvsliqjxluxgujfbhhelusvubjihjabsrejctozapakqavikppfgrutpimzsouigtfeuzzgptesjqkctvjkzvwlvmzimjmuvndcarhcqairdsunhqfeozvbrkifgslexgqwqfuumshdrnmdeexujgsyyvdszmkvklhljebfnsbidmljkoyldiutnlhvynoakbucswgajcrzhogdgrzniokqqxteoibdebcriedokatiurbbegxylwkpbdmiomxaeqjkzjgowwwhawhqykhxmflfvrqsjlovzlwvpzjqxanmhwuishcomdqiezcifmrigzbdwkvkdcoibxdftqrlqnyevdqssqjncojkkmwxqgahbppppoijzrvhlnlckpzdlgugzrqtwiheobgzhbhyddnsidphnttlyissnsjhwkgkipyodgrstkvpdyvhgixnvrblxrpekiobfgmxpasiedgtcibvogsgiplitzdznjepesohssopcjvelmgmpghaupkrdttxlrthbrcjlbpnwejrhrlxyvkmnyrhcdlttqxffeyjhupjphykeueytzoflvxteipazhzyvgmysvmofxwonimjzxspvxtdarbdnmtokvbokisaiujiejlwthgipyfthxukwnocruvueoqkfnsyjpqzprcfeatssxehclwuspvmbqtnjdnwvrvjwdlhljcfcnwaucmbelfpwpfbjshkerzwggiqlcuevesmfetbafkcuizuhiqxhjvoyiolesdujoxyadzzeqlbaipjhtlwhwewokhjmbsgsiezvmngvejhmzyrnlcljtjpyrzcbwaocbxnfnlteyajhjoddvrvfpxtgqvandebkslzusjnrfuilzpgrddlugujqbttyyccqnupukyulezdsnuwwoamybelwcjxxsjcrytmhahyhnuqhjpfsurmepkisxuruhnaxjrmsdvsdvhkmjfxumyccdiylnwfoasdrzzbmwgqqsnmzikbnlrnfmdkjviojghxhikykvhgdbhlcspwohaozkumlcsncqoojevvqnwhyqultivmqtbwyuztqgqcjjblrmupomdarlydbnxzhkponccoazkomajibqavdrqpxtzditkkfbyvtmjcsubzfjjlcssntfbbcaqebcbepwbmvhuqklaavjaerdehakuggatdvvgzqeueokmnmpxgfqugizpvxcthzzllqdpidsflwzxglbsraidtfkcblgxikeejobsvsanetclbfdmeqzjjkvzimlknpkpjfellavhlsgudfgpussgawdognnlxbyjtanzepvmnpcbjmietyvsclesklhfstrzlxeppoibfftonbpmsopgmxfgdahurupmfemdtwposfkpfgvejurcsrnafbmkrsstrvdtscnaauxrexubltveqhsbdqdcvpbyobndkdpyenvoidegnkqxteqvqwcpqwnabpxranusynjqpfhrxmdxydxifkamjyhcwsvpthvgtankrespdcgfjoaoozsgnmcnovmecloordsstdmojwlknkbtuxdupsfdktlbisvfaoqqvptoelsrzqxucpvzhvllzqynarfgbqqmuaqkjiwretpjzmpqnpxiaymahdgalotfghhokufofulrherhuqllhmbubzicibiomqzayuaiiwaivsenqsqfdbaetgeuvurmkjwscrqkgoexbilpwubxdutjzicvxjqmkmfsbjtblhoiapcgpiehvidcdfgnmjwanyzpbgcdfjzygsflvkydcrptzgwntiscvaimeuslcvfuolbopatvquadylkgfzojdqpkxewnpaqsronwevsiedxcqoupvyrxqwfntjrpulqskdsrjtmrwqzrtejbpxtxogjirzjcumdqrligylxvvbvorvsdgmirgszvktlutjoyuonbrstsredhsvknwsarhmkevxawqiubptkayxjhnroxkdgvspipndmssslocqqjricmqsjespvuahflkeputjigrnvkmmlarzzegqemvnhsgpbgeibgjerknbeapqsfhmyimisdwyvxrnyouveahbluixnfjaiqkfkmohotrjofsitvjmjrqhjhhrhkestdkyzsvdvpejmpknkpgahprgfhshuwybnbzkyeqoyeypyyrnmdqzuqqbqrptofugscakljeajqqpfqohfwbgvntgmsfixjopqauztrfochgrtnlhpfpoqbmffnghrjqdndmwgdhydwqjxeujaybeyvmcrtdzspvxwbansdscttxwzujsnrnflufpgekgrrgtvjaasxdztykakofqhbsjujchlqzitnfcqosdqaccgzhiccyaegwloehtzdfwovxvpvyxdiggxmkbdavkswhdaeisoneldhqbisntbjsnqpmsmmfrfemuekughhutakhhdjrfpxiedjsvhzmtofpzhmiadhlegveocdiaxwwchgaelfcpsrjultgofdrawzmpwauydojohmuiqnlnvikjlaodhczojukowcljhmermjkslvlctalbtqfbyqjyxchstgnnaaorbrpdhevobbxamrjgodnezlrcznspqffwkkqehjnnjnstwicoxrzxejvuwnkuwpitopgfmtmmiacyondykaxtvbsslzyvqxsvxleswijmqkhfieaftxxelygllkfkmxflogloflpnhipyftesptwrhdgfhimsnhkupogduuznmajmwgofmuijimmmutiyfhvniroahxtplkfyubvifepjawiegdfbujeqxnkbatfamfoihkjblimvsxnvjajadrupfqhhbrhwwolcdmrjddohmcnreudxyrqrucnckfdexhehgovjuiaxcetspaarfztpsieawdefjcnbpqkqsanixkzsgyprjqjcwehqqzhptvlmpdionkyyhopqccfiaynpolwbribrkqnrehpqhovitedesxkxzmvalnryfhawmohnvoloclhczarnjygmgljgbnpktnpaqukxhglobgzleaxbskpkkckaewjkthvwdsozouvtezjvgztlntkcsqxowhlkkkusqtfyripobyrophoqlpeqratmixdcmbkjhmozrfzyofyrujophtybvximcbduehfjrkdcmrmbqoaeyznmdtisaxjhucojksldhcrqpbkqmkfmndeogargsfbceknbupnzhmopceyixvdoggposdpolgbfnqnkffahhhmeuepjfmblzggnroleqtmgyschbkbkklbqtogepnhiiwbizlfvvphiaphigqdgmoqvbrsbqdiqjfqygfbugbgbnxcsbleqfclfbwuoowwbufvabdtmrbvelvupukzbzqmdelqbimkkkqiwcupquytgbgoxoqyjffsxptxvhxilvlhuvunbncwdpuggiiqchzileolvmszevrnjkvjqslvpzyqdqwanrwlhniusppwvpnetxibahjdeaidmbhesffhezonedeuincqaxijsnsqrdovsagamzsbnshieuikrmhnvghmytkmrniskqplydodrsgdvkwyeepictdiggwsuyhsitjvbmtngoqbhcbrpuhdlftatisaykwdugtoyrqkzmwfdpnsduhxvrctvcqzvimlwdcnemwbgdaqtpkjmkomhbnijujmgarlbnaautnhgeacwgahlbxheltuatcvahkygzefcdnlbtltqhmfmpyugsulgupchefutjegcruwgqayczqeeylavjesbeuobfudsmsnjefqmhsdstyakwzhaciosbuvovrbahotkznipwdihirphudnjxkwfphtmcxjpigbopllqhocxzxmkviobgbaifqrxzmqgpbdfbqwoccziyrdifsqtqgfcvrtpmhufmojpqveucqllblcvyveoikepwdksaqgbiziftkbgsapdvkvufbfxhkuxzdauuhnxjbmdoqzafmgjfrkkccwlwdwikwblfzuktcpeeisefegrfpkvgtxejyivcwzgjdtenaaejcckuxnehthkpqhevipyhcvmvjvksnimumfpqqoquujbkphhedvbwirhimnxapaokjnilkbdnvwqyafzsgfwcvielcbiwnjlzmoiujnifjbbmpkenkdqapihfnjmowzjntaxtdouclvsylmqsrhtavnnefajvhoumwojuuwkgjvogzhaddsyeoubwoibqypeuytegwbjmvievftewsftkffcklmhufxfeseuerihfejeepitgshzpkomebmfiamssfmipfdqsimmfclnhqvalzpqbakposnuqkrsrsktvvoqlibuugyrakboxqdmjdwfdcowfzrcljzhongesbpitiggmubkrgjixhfmgqgfpbipxqpktsutfhjekafjugulezpigsyorannddzdszhecfensdfsmdwryspgsqfhkoxqdcyssqrzrbdrnytrkhzetxrduuwjncumcpzwvhwvurahdajniyxeecpxrzxhizjvvmipltynzhgvenedetkcozhcjiboxcfqvfupwujmktxailpzjmqkllzexpbghhfbzmhqcuokwudupgeuseotyhlxcgyayzswomqtlftjyekgjcdmkyyfhzlpiisbhecmmmifmbchgljnsdnqspoboeubobynolnxbqthtdhlomkethvqmdiiuihflsqutkmkxlodmkcrjpgpabyrotrrdbczdfkcjmxetvthdfpwogissuybbmoeemvrvccieqoabjzzqxsifmtrfgmbuhraezndhlciipyedgrwjmmdjfxtknxcufzzgshhjoeeautmoiwqhditgslmngqpyjygfrbpjexdwhtnocdhszavsouqjcmsuljwkvhesjpxsngfuuhbgwosqcgkcgcxadmyazbjhmlvaneoohmyjsjflnlfentkpkhivudiierqbriuyhsxilcwtwnvrbbfabanleacfxrewgfybiajcmsgyfdkrrwhromokcgxbroeixcoctjwcpislvienerlevjaefffhiipdpebhzvrpmnmecdbhcihphhublwhbtiatyshqcmvblvtjvrbrhpboggixsrppwuqszqvwfnswncdunpwxopcftidwekqnouudvobzjktxggjsbjnrwoetbqmojmjqpdlaysvkahfajsqiaqefpfubnsuzlqjlhmozzxohyuhtvojsbjotolfrtgvidcdogihahvaywbpdporepihpmuijzojbkpxzjghklkowwtmqcdrufsthifowrhrpdfbqimxswrjitewlpbrzxjfqchbpfuoixzhxruieklnscxxrsdayjqkhofglzkftojegjsvoxcabhsmakbwilcjzotjotqtgexsnsuzeqpzrgnyfnrgdhaukexfantojtlhcctonkmsfwbdhzixgomceubbjdhqkmpdqqpwoxckkyqzterfcvcawwscpuvhepnkejppojzdyxxcsrnrmurlgikpudugslonklk";
    }

    private static String generateSubString(String mainString) {
        int length = 5000000;
//        int start = ((int) (Math.random()*100)) % (mainString.length() - length + 1);
        int start = 100000000 - 6000000;
        return mainString.substring(start, start + length);
//        return "sbgqotkurearufqfzqtynjejorovnxtqbaxpgohvpepkfumox";
    }
}
